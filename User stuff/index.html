<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User stuff</title>
</head>
<body>
<table border=1 id="table"></table>
<script>
    let table = document.getElementById('table');
    let tr = document.createElement('tr');

    class Entity {
        constructor(name) {
            this.name = name;
        }

        draw = () => {
            table.appendChild(tr);
            tr.innerText = this.name;
        }
    }

    class Stuff extends Entity {
        constructor(name) {
            super(name);
        }

        draw = () => {
            table.appendChild(tr);
            tr.innerText = this.name;
        }
    }

    class Box extends Entity {
        constructor(name, stuffs) {
            super(name);
            this.stuffs = stuffs;
        }

        draw = () => {
            table.appendChild(tr);
            tr.innerText = this.name + ' ';
        }
    }

    class User extends Entity {
        constructor(name, boxes) {
            super(name);
            this.boxes = boxes;
        }

        draw = () => {
            let tr = document.createElement('tr');
            table.appendChild(tr);
            tr.innerText = this.name + ' ';
            for (let i = 0; i < this.boxes.length; i++) {
                tr.innerText += ' ' + this.boxes[i].name + ' ';
                for (let j = 0; j < this.boxes[i].stuffs.length; j++) {
                    tr.innerText += ' ' + this.boxes[i].stuffs[j].name + ' ';
                }
            }
        }
    }

    let stuff1 = new Stuff(`stuff 1`);
    let stuff2 = new Stuff(`stuff 2`);
    let stuff3 = new Stuff(`stuff 3`);

    let box1 = new Box(`box 1`, [stuff1, stuff3]);
    let box2 = new Box(`box 2`, [stuff2, stuff3]);
    let box3 = new Box(`box 3`, [stuff1, stuff2]);

    let user1 = new User(`Olga`, [box1, box2]);
    let user2 = new User(`Mike`, [box3]);
    let user3 = new User(`Peter`, [box2, box3]);

    user1.draw();
    user2.draw();
    user3.draw();

</script>
</body>
</html>